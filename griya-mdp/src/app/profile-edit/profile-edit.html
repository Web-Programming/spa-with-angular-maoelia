<!-- Profile Edit Section -->
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        <!-- Section Header -->
        <div class="text-center mb-5">
          <h1 class="display-4 fw-bold text-primary mb-3">
            <i class="bi bi-person-circle me-3"></i>Edit Profil
          </h1>
          <p class="lead text-muted">Perbarui informasi pribadi Anda</p>
        </div>

        <!-- Profile Edit Card -->
        <div class="card shadow-lg border-0">
          <div class="card-body p-4 p-md-5">
            <!-- Success Alert -->
            @if (successMessage) {
            <div class="alert alert-success d-flex align-items-center" role="alert">
              <i class="bi bi-check-circle-fill me-3 fs-4"></i>
              <div>{{ successMessage }}</div>
            </div>
            }

            <!-- Error Alert -->
            @if (errorMessage) {
            <div class="alert alert-danger d-flex align-items-center" role="alert">
              <i class="bi bi-exclamation-triangle-fill me-3 fs-4"></i>
              <div>{{ errorMessage }}</div>
            </div>
            }

            <form [formGroup]="profileForm" (ngSubmit)="submitForm()">
              <h5 class="mb-4 fw-bold text-primary">
                <i class="bi bi-info-circle me-2"></i>Informasi Dasar
              </h5>

              <!-- Name -->
              <div class="mb-4">
                <label for="name" class="form-label fw-semibold">
                  <i class="bi bi-person-fill me-2"></i>Nama Lengkap *
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="name"
                  formControlName="name"
                  [class.is-invalid]="
                    profileForm.get('name')?.invalid && profileForm.get('name')?.touched
                  "
                  placeholder="John Doe"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="profileForm.get('name')?.invalid && profileForm.get('name')?.touched"
                >
                  Nama minimal 2 karakter
                </div>
              </div>

              <!-- Email -->
              <div class="mb-4">
                <label for="email" class="form-label fw-semibold">
                  <i class="bi bi-envelope-fill me-2"></i>Email *
                </label>
                <input
                  type="email"
                  class="form-control form-control-lg"
                  id="email"
                  formControlName="email"
                  [class.is-invalid]="
                    profileForm.get('email')?.invalid && profileForm.get('email')?.touched
                  "
                  placeholder="john@example.com"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched"
                >
                  Email tidak valid
                </div>
              </div>

              <!-- Phone -->
              <div class="mb-4">
                <label for="phone" class="form-label fw-semibold">
                  <i class="bi bi-telephone-fill me-2"></i>Nomor Telepon
                </label>
                <input
                  type="tel"
                  class="form-control form-control-lg"
                  id="phone"
                  formControlName="phone"
                  placeholder="+62 812-3456-7890"
                />
              </div>

              <!-- Location -->
              <div class="mb-4">
                <label for="location" class="form-label fw-semibold">
                  <i class="bi bi-geo-alt-fill me-2"></i>Lokasi
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="location"
                  formControlName="location"
                  placeholder="Jakarta, Indonesia"
                />
              </div>

              <hr class="my-4" />

              <h5 class="mb-4 fw-bold text-primary">
                <i class="bi bi-briefcase me-2"></i>Informasi Profesional
              </h5>

              <!-- Job -->
              <div class="mb-4">
                <label for="job" class="form-label fw-semibold">
                  <i class="bi bi-building me-2"></i>Pekerjaan
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="job"
                  formControlName="job"
                  placeholder="Software Developer"
                />
              </div>

              <!-- Bio -->
              <div class="mb-4">
                <label for="bio" class="form-label fw-semibold">
                  <i class="bi bi-pencil-fill me-2"></i>Bio
                </label>
                <textarea
                  class="form-control"
                  id="bio"
                  rows="5"
                  formControlName="bio"
                  placeholder="Ceritakan tentang diri Anda..."
                ></textarea>
                <div class="form-text">Deskripsi singkat tentang diri Anda</div>
              </div>

              <hr class="my-4" />

              <h5 class="mb-4 fw-bold text-primary">
                <i class="bi bi-person-badge me-2"></i>Informasi Pribadi
              </h5>

              <div class="row">
                <!-- Birthdate -->
                <div class="col-md-6 mb-4">
                  <label for="birthdate" class="form-label fw-semibold">
                    <i class="bi bi-calendar-fill me-2"></i>Tanggal Lahir
                  </label>
                  <input
                    type="date"
                    class="form-control form-control-lg"
                    id="birthdate"
                    formControlName="birthdate"
                  />
                </div>

                <!-- Status -->
                <div class="col-md-6 mb-4">
                  <label for="status" class="form-label fw-semibold">
                    <i class="bi bi-heart-fill me-2"></i>Status
                  </label>
                  <select class="form-select form-select-lg" id="status" formControlName="status">
                    <option value="">Pilih Status</option>
                    <option value="Single">Single</option>
                    <option value="Married">Married</option>
                    <option value="Divorced">Divorced</option>
                  </select>
                </div>
              </div>

              <!-- Buttons -->
              <div class="d-grid gap-2 mt-4">
                <button
                  type="submit"
                  class="btn btn-primary btn-lg py-3"
                  [disabled]="profileForm.invalid || isLoading"
                >
                  @if (isLoading) {
                  <span class="spinner-border spinner-border-sm me-2"></span>
                  } @if (!isLoading) {
                  <i class="bi bi-save-fill me-2"></i>
                  } Simpan Perubahan
                </button>
                <button type="button" class="btn btn-outline-secondary" (click)="cancel()">
                  <i class="bi bi-x-circle me-2"></i>Batal
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Information Alert -->
        <div class="alert alert-info d-flex align-items-center mt-4" role="alert">
          <i class="bi bi-info-circle-fill me-3 fs-4"></i>
          <div>
            <strong>Tips:</strong> Pastikan email yang Anda masukkan valid karena akan digunakan
            untuk login dan komunikasi.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
